<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="icon" type="image/png" href="/images/logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transcendance</title>
    <link rel="stylesheet" type="text/css" href="cssFiles/styles.css">
    <link rel="stylesheet" type="text/css" href="cssFiles/loader.css">
    <link rel="stylesheet" type="text/css" href="cssFiles/login.css">
    <link rel="stylesheet" type="text/css" href="cssFiles/statistiques.css">
    <link rel="stylesheet" type="text/css" href="cssFiles/tournament.css">
    <link rel="stylesheet" type="text/css" href="cssFiles/playing-section.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/playerProfile.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/cyber-buttons.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/goodbye-section.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/chat.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/friends.css">
	<link rel="stylesheet" type="text/css" href="cssFiles/notifications.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Press+Start+2P|VT323|Nova+Square&display=swap">
	<script type="importmap">
		{
			"imports": {
                "three": "https://unpkg.com/three@0.169.0/build/three.module.js",
                "three/examples/jsm/controls/OrbitControls.js": "https://unpkg.com/three@0.169.0/examples/jsm/controls/OrbitControls.js",
                "three/examples/jsm/loaders/GLTFLoader.js": "https://unpkg.com/three@0.169.0/examples/jsm/loaders/GLTFLoader.js",
                "three/examples/jsm/loaders/RGBELoader.js": "https://cdn.jsdelivr.net/npm/three@0.169.0/examples/jsm/loaders/RGBELoader.js"
            }
		}
		</script>
	<script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
	

</head>
<body>
    <div id="preloader">
        <div id="loader"></div>
    </div>
	<!-- NOTIFICATIONS -->
	<div id="notification-bell-container" class="notification-container">
		<img id="notification-bell-img"src="./images/bell.svg" alt="Bell notification" class="bell-notifcation">
		<span id="notification-messages" class="notification">You don't have any notifications</span>
	</div>
	<!-- CHAT -->
	<div id="messagesDivContainer" class="chat-container">
		<div id="messages" class="chat-messages">
		</div>
	</div>
	<input id="chat-input" class="chat-input" placeholder="Type here..">
	<!-- FRIENDS -->
	<div class="sidebar">
		<div class="friend-container">
			<div id="grp-list" class="group-list">
			</div>
			<div id="friends-list" class="friends-list">
			</div>
				<div id="request_lists" class="friend-request-container">
				</div>
		</div>
		<div class="search-user">
			<div class="add-friend-div">
				<a class="add-friend-title">Add Friend:</a>
				</div>
				<div class="profle-id-div">
				<a id="profile-id" class="profile_id"></a>
				</div>
			<input id="search-input" class="search-input" placeholder="Friend ID"> </input>
		</div>
	</div>
    <nav>
        <a href="#home" data-section="home" class="neonText">Home</a>
        <a href="#play" data-section="play" class="neonText">Play</a>
        <!-- <a href="#tournaments" data-section="tournaments" class="neonText">Tournaments</a> -->
        <a href="#statistiques" data-section="statistics" class="neonText">Statistics</a>
        <a href="#connexion" data-section="connexion" class="neonText">Connexion</a>
		<a href="#profile" data-section="profile" class="neonText">Account</a>
    </nav>
    <audio id="navsound" src="sounds/interface-1-126517.mp3" volume="0.1"></audio>
    <section id="home" class="hero-section">
        <div class="hero-content">
            <h1 class="fontNeonText flicker">Welcome to Transcendance</h1>
            <p class="redNeonText">Experience the journey of transcendence.</p>
        </div>
    </section>
	<section id="play" class="play-section">
		<div class="play-content">
			<div class="blob-container">
				<div id="remoteContainer" class="image-stack">
				  <!-- The Three.js or Spline viewer will be injected here -->
				</div>
				<div id="robotContainer" class="image-stack">
				  <!-- Ensure the Spline viewer is placed within the correct div -->
				</div>
			  </div>

            <audio id="switchsound">
                <source src="sounds/switch-sound.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <button id="playButton" class="button-82-pushable" role="button">
                <span class="button-82-shadow"></span>
                <span class="button-82-edge"></span>
                <span id="playbuttontext" class="button-82-front text neonText">PLAY</span>
            </button>
        </div>
    </section>
    <section id="playing" class="playing-section">
		<button id="unloadButton">Leave</button>
        <div class="scoreboard">
                <h1>Scoreboard</h1>
                <div class="scores">
                    <div class="player">
                        <h2>Player 1</h2>
                        <div class="score" id="score1">0</div>
                    </div>
                    <div class="player">
                        <h2>Player 2</h2>
                        <div class="score" id="score2">0</div>
                    </div>
                </div>
            </div>
        <div id="splineContainer">
        </div>
    </section>
    <section id="tournaments" class="tournaments-section">
		<h3 class="tournament_desc">Compete in the very first game ever with enhanced graphics and maybe win the Tournament !!</h3>
        <div class="bracket">
            <div class="round">
                <div class="match">
                    <div class="team">_team_name_1_</div>
                    <div class="team">_team_name_2_</div>
                </div>
                <div class="match">
                    <div class="team">_team_name_3_</div>
                    <div class="team">_team_name_4_</div>
                </div>
            </div>
            <div class="round">
                <div class="match">
                    <div class="team">Winner Match 1</div>
                    <div class="team">Winner Match 2</div>
                </div>
            </div>
            <div class="round">
                <div class="final">
                    <div class="team">Final Winner</div>
                </div>
            </div>
        </div>
		<img src="../images/trophy.png" class="trophy_image">
    </section>
    <section id="statistics" class="statistiques-section">
		<div class="bento-stats-container">
            <!-- Skills section -->
			<!-- Hours Played Section with a Neon-Styled Chart -->
<div class="box hours-played" style="background-color: #1a1a1a; padding: 20px; border-radius: 10px;">
    <h2 style="color: #39ff14;">Hours Played</h2>
    <canvas id="hoursPlayedChart"></canvas>
</div>

<!-- Include Chart.js (via CDN) -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Script for the Chart with Neon Styling -->
<script>
    const ctx = document.getElementById('hoursPlayedChart').getContext('2d');
    const hoursPlayedChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [{
                label: 'Hours Played',
                data: [20, 30, 50, 40, 60, 80, 90, 75, 85, 70, 55, 65], // Example data for each month
                backgroundColor: 'rgba(57, 255, 20, 0.5)', // Neon green with transparency
                borderColor: '#39ff14', // Neon green border color
                borderWidth: 2,
                hoverBackgroundColor: 'rgba(0, 255, 255, 0.6)', // Neon cyan on hover
                hoverBorderColor: '#00ffff' // Neon cyan border on hover
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(57, 255, 20, 0.1)' // Faint neon gridlines
                    },
                    ticks: {
                        color: '#39ff14' // Neon green y-axis labels
                    }
                },
                x: {
                    grid: {
                        color: 'rgba(57, 255, 20, 0.1)' // Faint neon gridlines
                    },
                    ticks: {
                        color: '#39ff14' // Neon green x-axis labels
                    }
                }
            },
            plugins: {
                legend: {
                    display: false // Hide legend to focus on the chart itself
                }
            }
        }
    });
</script>
			
			<div class="box total-wins">
				<h2>Total Wins</h2>
				<p>128 Wins</p>
			</div>
			
			<div class="box total-losses">
				<h2>Total Losses</h2>
				<p>45 Losses</p>
			</div>
			
			<div class="box best-streak">
				<h2>Best Streak</h2>
				<p>12 Wins in a Row</p>
			</div>
			
			<div class="box games-played">
				<h2>Games Played</h2>
				<p>173 Games</p>
			</div>
			
			<div class="box play-time">
				<h2>Hours Played</h2>
				<p>Transcendence Game - 80+ Hours of Development</p>
			</div>
			
			<div class="box skills-mastered">
				<h2>Skills Mastered</h2>
				<p>JavaScript, THREE.js, Node.js, CSS & HAML, 3D Modeling</p>
			</div>

    </section>
    <section id="connexion" class="connexion-section">
        <div class="container">
            <div class="login-form fade-in">
                <h2 class="darkerNeonText">Login</h2>
                <form id="LoginForm">
                    <input id="LoginFormUsername" type="text" placeholder="Username" required>
                    <input id="LoginFormPassword" type="password" placeholder="Password" required>
                    <button type="submit" id="LoginButton">Login</button>
                    <div class="social-buttons">
                        <button class="google-btn">
                            <img src="images/7123025_logo_google_g_icon.png" alt="Google Logo" class="btn-logo">
                        </button>
                        <button class="school-btn">
                            <img src="images/42icon.png" alt="42 Logo" class="btn-logo">
                        </button>
                    </div>
					<div id="error-message" style="color: red; display: none;"></div>
                </form>
                <p class="darkerNeonText">Don't have an account? <a href="#" onclick="switchForm(event)">Register</a></p>
            </div>
            <div class="register-form fade-out">
                <h2 class="darkerNeonText">Register</h2>
                <form id="RegisterForm">
                    <input id="RegisterUsername" type="text" placeholder="Username" required>
                    <input id="RegisterEmail" type="email" placeholder="Email" required>
                    <input id="RegisterPassword" type="password" placeholder="Password" required>
                    <input id="RegisterConfirmPassword" type="password" placeholder="Confirm Password" required>
                    <button type="submit" id="RegisterButton">Register</button>
                    <div class="social-buttons">
                        <button class="google-btn">
                            <img src="images/7123025_logo_google_g_icon.png" alt="Google Logo" class="btn-logo">
                        </button>
                        <button class="school-btn">
                            <img src="images/42icon.png" alt="42 Logo" class="btn-logo">
                        </button>
                    </div>
					<div id="error-message-register" style="color: red; display: none;"></div>
                </form>
                <p class="darkerNeonText">Already have a account? <a href="#" onclick="switchForm(event)">Login</a></p>
            </div>
        </div>
    </section>
	<section id="profile" class="profile-section">
		<!-- display form -->
		<div class="profile-container">
			<div class="profile-form fade-in">
				<div class="header-container-profile">
					<h2 class="neonTextButton" onclick="switchDisplayForm(event)">User</h2>
					<h2 class="blueNeonHeader" style="scale: 1.5">Profile</h2>
					
				  </div>
				<div class="profile-picture">
					<img id="profileImage" src="./images/42icon.png" alt="Profile Image">
				</div>
				<h2 id="profileName">Profile Name Undefined</h2>
                <h3>About:</h3>
                <p id="userBiography">If you don't know who you truly are, you'll never know what you really want.</p>
				<button onclick="switchEditProfileForm(event)" class="cybr-btn pink">
					Edit Profile<span aria-hidden>_</span>
					<span aria-hidden class="cybr-btn__glitch">Edit Profile</span>
					<span aria-hidden class="cybr-btn__tag">R25</span>
				</button>
				<button onclick="logout()">Logout</button>
			</div>

			<!-- USER INFO FORM -->
			<div class="user-form fade-out">
				<div class="header-container-profile">
					<h2 class="blueNeonHeader" style="scale: 1.5">User</h2>
					<h2 class="neonTextButton" onclick="switchDisplayForm(event)">Profile</h2>
				  </div>
				<h2 id="usernameDisplay"></h2>
                <h3 id="emailDisplay"></h3>
				<button onclick="switchEditUserForm(event)" class="cybr-btn pink">
					Edit User<span aria-hidden>_</span>
					<span aria-hidden class="cybr-btn__glitch">Edit User</span>
					<span aria-hidden class="cybr-btn__tag">R25</span>
				</button>
				<button onclick="logout()">Logout</button>
			</div>

			<!-- edit form -->
				<!-- PROFIL EDIT FORM -->
					<div class="edit-profile-form-text fade-out">
						<h2 class="blueNeonHeader">Edit Profile</h2>
						<div class="upload-area" id="uploadArea">
							<p>Drag & Drop an Image Here or Click to Upload</p>
							<input type="file" id="fileInput" accept="image/*" hidden />
						</div>
						<form id="profileForm">
							<input type="text" id="nameInput" placeholder="Name" required>
							<textarea id="bioInput" placeholder="About" required></textarea>
							<button id="profile-edit-submit-btn" type="submit">Save Changes</button>
						</form>
				<p class="darkerNeonText">Finished? <a href="#" onclick="switchEditProfileForm(event)">Return to profile</a></p>
					</div>

					<!-- USER EDIT FORM -->
					<div class="edit-user-form-text fade-out">
						<h2 class="blueNeonHeader">Edit User</h2>
						<form>
							<input type="text" id="usernameInput" placeholder="Username" required>
							<input type="email" id="emailInput" placeholder="Email" required>
							<input type="password" id="passwordUserInput" placeholder="Password" required>
							
						</form>
						<button id="saveChangesBtn">Save Changes</button>
						<!-- Edit Account Modal -->
						<div id="EditAccountModal" class="editModal" style="display: none;">
							<div class="edit-modal-content">
								<span id="closeEditModal" class="edit-close">&times;</span> <!-- Updated ID -->
								<h3>Edit Account</h3>
								<p>Enter your password to confirm:</p>
								<input type="password" id="passwordEditInput" placeholder="Enter password">
								<button id="confirmEdit">Confirm Edit</button>
							</div>
						</div>
						<button id="deleteAccountBtn" class="cybr-btn">
							Delete Account<span aria-hidden>_</span>
							<span aria-hidden class="cybr-btn__glitch">Delete</span>
							<span aria-hidden class="cybr-btn__tag">Not reversible</span>
						</button>
						<div id="deleteAccountModal" class="modal" style="display: none;">
							<div class="modal-content">
								<span id="closeModal" class="close">&times;</span>
								<h3>Delete Account</h3>
								<p>Enter your password to confirm:</p>
								<input type="password" id="passwordInput" placeholder="Enter password">
								<button id="confirmDelete" onclick="deleteAccount()">Confirm Delete</button>
							</div>
						</div>
						<p class="darkerNeonText">Finished? <a href="#" onclick="switchEditUserForm(event)">Return to user</a></p>
					</div>
		</div>
	</section>
	<section id="goodbye">
		<div class="goodbye-section">
			<h1>Goodbye, Digital Traveler</h1>
			<p class="goodbye-poem">
			  In the quiet digital night,<br>
			  A user took flight, out of sight.<br>
			  Their profile gone, their data erased,<br>
			  Leaving behind an empty space.<br><br>
		  
			  Once they lingered, code and key,<br>
			  Building their path in our registry.<br>
			  But now the clicks have all gone still,<br>
			  A vanished trace, a broken quill.<br><br>
		  
			  Their name no longer lights the page,<br>
			  A fleeting trace of the digital age.<br>
			  And though they left without a word,<br>
			  Their echo in the code is still heard.<br><br>
		  
			  Goodbye, dear traveler, brave and free,<br>
			  In the realm of bits, you chose to flee.<br>
			  But even in deletion's grace,<br>
			  You left behind a hidden trace.
			</p>
		  </div>
	</section>


	<script type="module" src="JsFiles/single_page.js"></script>
	<script src="JsFiles/Modules/API/deleteAccount.js"> </script>
	<script src="JsFiles/Modules/API/logout.js"></script>
	<script type="module" src="/JsFiles/Modules/API/patchProfile.js"> </script>
	<script type="module" src="/JsFiles/Modules/API/patchUser.js"></script>
	<script type="module" src="/JsFiles/WebSocket/chatSend.js"></script>
	<script type="module" src="/JsFiles/WebSocket/websocket-open.js"></script>
	<script type="module" src="/JsFiles/WebSocket/friendRequests.js"></script>
	<script type="module" src="/JsFiles/WebSocket/friendDisplay.js"></script>
	<script type="module" src="/JsFiles/WebSocket/groupRequests.js"></script>
	<script type="module" src="/JsFiles/WebSocket/Game/ballMovement.js"></script>
	<script type="module" src="/JsFiles/Modules/navigation.js"></script>
	<script src="/JsFiles/WebSocket/friendsButtons.js"></script>
	<!-- <script src="JsFiles/Pages/drag&drop.js"></script> -->
	<script src="JsFiles/Pages/login.js"></script>
	<script src="JsFiles/Pages/profile.js"></script>
    <script type="module" src="JsFiles/3d/3d.js"></script>
	<script type="module" src="JsFiles/3d/3d_remote.js"></script>
	<script type="module" src="JsFiles/3d/3d_robot.js"></script>
</body>
</html>
